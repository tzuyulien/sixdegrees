<script type="text/javascript">
$(document).ready(function(){
	$('.apply-btm').click(function(){
		if($('input[name="name"]').val() == ''){
			alert("請填寫姓名！");
		}else if($('input[name="phone"]').val() == ''){
			alert("請填寫手機電話！");
		}else if($('input[name="email"]').val() == ''){
			alert("請填寫Email！");
		}else{
			$.ajax({
				type: 'POST',
				cache: false,
				url: 'apo/course.php',
				data: $('form[name="course"]').serialize(),
				error: function() {
					// console.log("送出失敗");
				},
				success: function(data) {
					data = JSON.parse(data);
					if(data.status){
						alert('感謝您的報名，請靜待活動通知！');
						location.reload();
					}else{
						// console.log('送出失敗');
					}
				}
			});
		}
	});
	
	$('.course-intro').find('img').css('height', 'auto');


function initialize() {

	var locations = [
      [$('input[name="shop"]').val(), $('input[name="lat"]').val(), $('input[name="lng"]').val(), 4],
    ];

	var mapOptions = {
		center: new google.maps.LatLng($('input[name="lat"]').val(), $('input[name="lng"]').val(), 4),
		zoom:16,
		scrollwheel: false,
		navigationControl: false,
		mapTypeControl: false,
		scaleControl: false,
		mapTypeId:[google.maps.MapTypeId.ROADMAP, 'map_style']
	};
	var map = new google.maps.Map(document.getElementById("googleMap"), mapOptions);

    var infowindow = new google.maps.InfoWindow();

    var contentString = '<div class="map-info-content">'+
      '<div id="siteNotice">'+'</div>'+
      '<div class="shop-info-list-item">Shop Name_</div>'+
      '<div class="shop-name"><strong>'+$('input[name="shop"]').val()+'</strong></div>'+
      '<div class="shop-info-list-item">Shop Info_</div>'+
      '<div class="shop-info-content">'+$('input[name="address"]').val()+'</div>'+
      '<div class="shop-info-content">'+$('input[name="phone"]').val()+'</div>'+
      '</div>';

    var infowindow = new google.maps.InfoWindow({
      content: contentString
	});

    var marker, i;

    for (i = 0; i < locations.length; i++) {  
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map,
        draggable:true,
		animation: google.maps.Animation.DROP,
        icon: 'images/map-icon.svg'

      });

      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infowindow.setContent(contentString);
          infowindow.open(map, marker);
        }
      })(marker, i));
    }


	var styles = [
  		{
	  		featureType:"landscape",
	  		stylers:[
	  		{ hue:"#FFBB00"},
	  		{ saturation: 43.400000000000006},
	  		{ lightness: 37.599999999999994},
	  		{ gamma: 1}]
	  	},
  		{
  			featureType:"road.highway",
  			stylers:[
  			{ hue:"#FFC200"},
  			{ saturation:-61.8},
  			{ lightness:45.599999999999994},
  			{ gamma:1}]
  		},
  		{	
  			featureType:"road.arterial",
  			stylers:[
  			{ hue:"#FF0300"},
  			{ saturation:-100},
  			{ lightness:51.19999999999999},
  			{ gamma:1}]
  		},
  		{
  			featureType:"road.local",
  			stylers:[
  			{ hue:"#FF0300"},
  			{ saturation:-100},
  			{ lightness:52},
  			{ gamma:1}]
  		},
  		{
  			featureType:"water",
  			stylers:[
  			{ hue:"#0078FF"},
  			{ saturation:-13.200000000000003},
  			{ lightness:2.4000000000000057},
  			{ gamma:1}]
  		},
  		{
  			featureType:"poi",
  			stylers:[
  			{ hue:"#00FF6A"},
  			{ saturation:-1.0989010989011234},
  			{ lightness:11.200000000000017},
  			{ gamma:1}]
  		}
	]

	var styledMap = new google.maps.StyledMapType(styles, {name: "Styled Map"});

	map.mapTypes.set('map_style', styledMap);
    map.setMapTypeId('map_style');

	}

	google.maps.event.addDomListener(window, 'load', initialize);

});
</script>




<script type="text/javascript">
var map;
function initMap() {
  map = new google.maps.Map(document.getElementById('googleMap'), {
    center: {lat: -34.397, lng: 150.644},
    zoom: 8
  });
}

</script>



<script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAUztX6L0JUI413Ax9izKqmVJzo3n3AbeA&callback=initMap">
    </script>